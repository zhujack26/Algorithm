[Android] FCM을 이용해 Push 구현하기

링크 :  [[Android] FCM을 이용해 Push 구현하기 :: Hello, Maejing!](https://maejing.tistory.com/entry/Android-FCM%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%B4-Push-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0)

Push Service? FCM?

- 서버에서 모바일 장치로 보내는 알림 또는 메시지를 말한다.
- FCM(Firebase Cloud Messaging)은 구글 클라우드 서버를 이용해 앱에서 서버에 연결하지 않아도 기기의 내부 연결을 통해 메시지를 보낼 수 있다.

FCM을 사용해서 메시지를 보내는 과정:

1. 토큰 요청 및 획득: 사용자가 앱을 설치하고 최초 실행시 토큰을 얻기위해 클라우드 서버에 요청을 보내고 토큰을 획득한다.
2. 서버에 토큰 저장: 획득한 토큰을 서버로 전송하여 서버 db에 저장한다. 이 토큰은 서버가 클라우드에 메시지 전송을 요청할 때 어디로 보내는지 구분하기 위해 사용된다.
3. 토큰을 이용해 메시지 전송 요청: 서버에서 클라우드로 메시지 데이터와 함께 토큰을 보내 전송을 요청한다.
4. 메시지 전송: 클라우드는 요청받은 메시지를 토큰에 해당하는 단말기에 전송한다.
5. 리스너를 통해 메시지 수신: 앱이 실행중이 아니더라도 리스너를 통해 메시지를 수신할 수 있다.

Firebase 페이지에 앱 등록 및 프로젝트 설정:

- Firebase에 앱을 등록하고 고유한 key를 받아야 메시지 전송을 요청할 수 있다.

FCM과 비슷한 기술:

- Apple의 APNs (Apple Push Notification service)는 iOS 앱에 푸시 알림을 보내는 기술로 FCM과 유사한 역할을 한다.

FCM 사용의 장점:

1. 기기의 내부 연결 사용: FCM을 사용하면 앱과 서버 사이에 직접적인 연결을 필요로 하지 않아도 되므로 서버에 부담이 적다.
2. 다양한 플랫폼 지원: Android와 iOS를 포함하여 웹 및 기타 플랫폼까지 FCM을 통해 통합적으로 푸시 알림을 관리할 수 있다.
3. 고성능 및 안정성: 구글의 클라우드 인프라를 기반으로 하기 때문에 높은 성능과 안정성을 제공한다.
4. 무료 사용 가능: 기본적인 기능을 무료로 사용할 수 있으며, 많은 푸시 알림을 처리해야 하는 대규모 앱이라도 유연하게 확장할 수 있다.
